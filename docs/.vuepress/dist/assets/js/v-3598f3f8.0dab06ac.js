(self.webpackChunkxiaomiwiki_github_io=self.webpackChunkxiaomiwiki_github_io||[]).push([[8328],{7431:(e,i,n)=>{"use strict";n.r(i),n.d(i,{data:()=>t});const t={key:"v-3598f3f8",path:"/wiki/About_Anti-Rollback_Protection.html",title:"",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"About Anti-Rollback Protection",slug:"about-anti-rollback-protection",children:[{level:3,title:"Checking if ARP is enabled",slug:"checking-if-arp-is-enabled",children:[]},{level:3,title:"Anti version explained",slug:"anti-version-explained",children:[]}]}],filePathRelative:"wiki/About_Anti-Rollback_Protection.md",git:{updatedTime:1625257604e3,contributors:[{name:"Selenuix",email:"anthony.ciszek@outlook.com",commits:1}]}}},6775:(e,i,n)=>{"use strict";n.r(i),n.d(i,{default:()=>W});var t=n(6252);const a=(0,t.Uk)("Index page"),o=(0,t.Wm)("h2",{id:"about-anti-rollback-protection",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#about-anti-rollback-protection","aria-hidden":"true"},"#"),(0,t.Uk)(" About Anti-Rollback Protection")],-1),l=(0,t.Wm)("p",null,"Anti-Rollback Protection (ARP) was introduced by Google in Android 8.0 (Oreo) and they made its implementation mandatory for devices launching with Android 9.0 Pie. ARP is a security countermeasure aiming to prevent devices from booting older, less-secure versions of Android. In Google's implementation, ARP is disabled if the bootloader is unlocked, whereas on Xiaomi devices it cannot be disabled once it's enabled by a ROM that implements it. Xiaomi likely made this decision to stop resellers from exploiting vulnerabilities found in older versions of MIUI.",-1),r=(0,t.Wm)("h3",{id:"checking-if-arp-is-enabled",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#checking-if-arp-is-enabled","aria-hidden":"true"},"#"),(0,t.Uk)(" Checking if ARP is enabled")],-1),s=(0,t.Uk)("Download and launch the Xiaomi ADB/Fastboot Tools from "),h=(0,t.Uk)("here"),d=(0,t.Uk)("."),c=(0,t.Uk)("Connect the device in Fastboot mode. See the instructions "),u={href:"https://szaki.github.io/XiaomiADBFastbootTools/",target:"_blank",rel:"noopener noreferrer"},m=(0,t.Uk)("here"),b=(0,t.Uk)("."),k=(0,t.Wm)("p",null,"If don't get any number for anti version, ARP isn't enabled. If you get a number, ARP is enabled.",-1),g=(0,t.Wm)("h3",{id:"anti-version-explained",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#anti-version-explained","aria-hidden":"true"},"#"),(0,t.Uk)(" Anti version explained")],-1),v=(0,t.Wm)("p",null,"Having an anti version means that you cannot flash whatever ROM you want, only ROMs that have an anti version equal to or higher than the device's.",-1),f=(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,"Flashing a ROM with an anti version higher than the device's will set it to the higher value."),(0,t.Wm)("li",null,"Flashing a ROM with an anti version equal to the device's won't change anything."),(0,t.Wm)("li",null,"Flashing a ROM with an anti version lower than the device's will result in a hard brick.")],-1),p=(0,t.Wm)("p",null,"For now, only Fastboot ROMs check for anti version and act accordingly. They will abort without making any changes if the device's anti version is higher than its own.",-1),w=(0,t.Wm)("p",null,"Custom ROMs are unaffected by ARP and flashing them won't brick the device or change the anti version.",-1),W={render:function(e,i){const n=(0,t.up)("RouterLink"),W=(0,t.up)("OutboundLink");return(0,t.wg)(),(0,t.j4)(t.HY,null,[(0,t.Wm)("p",null,[(0,t.Wm)(n,{to:"/"},{default:(0,t.w5)((()=>[a])),_:1})]),o,l,r,(0,t.Wm)("ol",null,[(0,t.Wm)("li",null,[(0,t.Wm)("p",null,[s,(0,t.Wm)(n,{to:"/wiki/Tools_for_Xiaomi_devices.html"},{default:(0,t.w5)((()=>[h])),_:1}),d])]),(0,t.Wm)("li",null,[(0,t.Wm)("p",null,[c,(0,t.Wm)("a",u,[m,(0,t.Wm)(W)]),b])])]),k,g,v,f,p,w],64)}}}}]);